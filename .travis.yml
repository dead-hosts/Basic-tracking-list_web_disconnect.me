env:
  global:
    - secure: eZNRxxZpdneGqsILl+p+ukl+Ku/sNObi4WJ4KcFFRGq1/w+C6dDz4Ioq7Ofa+2TC0mPSEjvjAhGqEOoAKENURcfncAnn1uru9CeiLrasn+J9rmH4eFtCSlUpjpoAEzrrnGyZPPKYXfkQSngu/EUyr9h6Tmq/KwoHhtsDaUVgTZjQbguouBlqy0OPNAa4L4iSvv1Hu6SRbBRj6TLvrn+BDcUwOs4WVp0AV0gsG3LfWrowIBKXDjulYoDeR+XK7h1noI9VyCGYRJ3j57XGIOhUkhy/c1KKmWbJXoFC8f6e1oPoHdgbL4ggrtQUwYy695cGM7OWb11ijjat7KO22qUsHIaukMiNqOZtKjIRI9URLyjY3Vxxm34YEBiHk25XG9cfahwnaBkigTBXGZpyezm5s9Ayea7ob5YPlHwHMkCTAL4fYBFfQ42Lc7VuYb+wuyCwPqBV23W90z8RuAzhTGZek+pgvLgcO/7Mc3uX1A4d7sTZAa49bwYCF1lNTgXq4dHy80kONQIEBygo2/Qe38NdYujGnuSdWFeXWDQ+BgapeJDRiS3P8acqzfvns9wVGXzyb74lFyzAm3I8eLX0hD935c5sMqcR431lPdIdIVT4fhuMDt0V8CxQhdFVjBOno6Gk0BDTXej4oyueo8BtpHSeSBdyLhVA5d5nwkA0wsaiezM=
    - GIT_NAME: Travis CI
    - GIT_EMAIL: dead-hosts@funilrys.com
    - TRAVIS_REPO_SLUG: dead-hosts/Basic-tracking-list_web_disconnect.me
    - GIT_BRANCH: master
    - UPDATE_ME_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/update_me.py
    - ADMIN_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/admin.py

dist: xenial
sudo: required

language: python

python:
  - "3.7"

matrix:
  fast_finish: true

cache:
  - pip

addons:
  apt:
    packages:
      - dos2unix

install:
  - pip3 install --upgrade pip
  - pip3 install requests

before_script:
  - if [[ ! -f .administrators ]]; then wget "${UPDATE_ME_LOCATION}" -o /dev/null -O update_me.py && chmod +x update_me.py; else echo "update_me not downloaded :)"; fi
  - if [[ ! -f .administrators ]]; then wget "${ADMIN_LOCATION}" -o /dev/null -O admin.py && chmod +x admin.py; else echo "admin not downloaded :)"; fi

script:
  - python3 update_me.py

notifications:
  on_success: change
  on_failure: always
